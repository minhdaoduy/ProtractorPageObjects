"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var domParse = function domParse(DOMParser) {
  return function (markup) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var _options$strict = options.strict,
        strict = _options$strict === undefined ? true : _options$strict;


    if (typeof markup !== "string") {
      return false;
    }

    var doc = void 0;

    try {
      doc = new DOMParser().parseFromString("<!DOCTYPE html>\n<html><body>" + markup + "</body></html>", strict ? "application/xhtml+xml" : "text/html");
    } catch (e) {}

    if (doc && doc.getElementsByTagName("parsererror").length) {
      return false;
    }

    if (!doc) {
      if (strict) {
        doc = document.implementation.createDocument("http://www.w3.org/1999/xhtml", "html", document.implementation.createDocumentType("html", null, null));
        doc.documentElement.appendChild(doc.createElement("body"));
      } else {
        doc = document.implementation.createHTMLDocument("");
      }

      try {
        doc.body.innerHTML = markup;
      } catch (e) {
        return false;
      }
    }

    return doc.getElementsByTagName("body")[0].childNodes;
  };
};

exports.default = domParse;